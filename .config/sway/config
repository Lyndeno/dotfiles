# Configure xwayland for optimal res/perf in games
exec xrandr --output XWAYLAND0 --primary

### Variables
#
# Logo key. Use Mod1 for Alt.
set $mod Mod4

# Your preferred terminal emulator
set $term alacritty -e fish

# Your preferred application launcher
set $menu wofi --show drun

# Output configuration
output * bg ~/.background.jpg fill

output DP-1 enable adaptive_sync on pos 1600 0 mode 2560x1440@144.000000Hz
output DP-2 enable pos 0 300

#Workspaces
workspace 1 output DP-1
workspace 2 output DP-1
workspace 3 output DP-1
workspace 4 output DP-1
workspace 5 output DP-1

workspace 6 output DP-2
workspace 7 output DP-2
workspace 8 output DP-2
workspace 9 output DP-2


# Idle configuration

exec swayidle -w \
         timeout 300 'swaylock -f -c 000000FF --inside-color 00000099 --ring-color aa0000aa --timestr "%I:%M %p" --fade-in 2 --clock --indicator --text-color aaaaaaFF' \
         timeout 310 'swaymsg "output * dpms off"' resume 'swaymsg "output * dpms on"' \
	 timeout 10 'if pgrep swaylock; then swaymsg "output * dpms off"; fi' resume 'swaymsg "output * dpms on"'
#          before-sleep 'swaylock -f -c 000000'
#
# This will lock your screen after 300 seconds of inactivity, then turn off
# your displays after another 300 seconds, and turn your screens back on when
# resumed. It will also lock your screen before your computer goes to sleep.

# bar
exec_always 'if ! pgrep waybar; then waybar -c ~/.config/waybar/config_`hostname`; fi'

### Includes

# Bindings
include ~/.config/sway/conf.d/bindings

# Autostart
include ~/.config/sway/conf.d/autostart

# Appearance
include ~/.config/sway/conf.d/appearance

# Windows Rules
include ~/.config/sway/conf.d/window_rules

include /etc/sway/config.d/*
